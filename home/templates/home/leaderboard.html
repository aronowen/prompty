{% extends "home/base.html" %}
{% load static i18n %}
{% block title %}{% trans "Leaderboard Â· Prompt Scoring Arcade" %}{% endblock %}

{% block content %}

<head>
    <meta charset="UTF-8">
    <title>{% trans "Leaderboard Â· Prompt Scoring Arcade" %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>

<body class="page">

    <div class="crt-overlay"></div>

    <header class="site-header">
        <div class="logo-lockup">
            <span class="logo-mark">â–¶</span>
            <h1 class="site-title">{% trans "Prompt Leaderboard" %}</h1>
        </div>

        <p class="site-tagline">
            {% blocktrans %}
            Top 20 prompts across all roles, ranked by total score out of 1000.
            {% endblocktrans %}
        </p>
    </header>

    <main class="main-content">
        <section class="leaderboard-section">

            <h2 class="section-title">{% trans "High scores" %}</h2>

            <p class="section-subtitle">
                {% blocktrans %}
                Arcade legends only. Higher scores mean clearer persona, task, context, and format.
                {% endblocktrans %}
            </p>

            {% if entries %}
                <div class="leaderboard-card">
                    <table class="leaderboard-table">
                        <thead>
                            <tr>
                                <th>{% trans "#" %}</th>
                                <th>{% trans "Name" %}</th>
                                <th>{% trans "Score" %}</th>
                                <th>{% trans "Prompt Preview" %}</th>
                            </tr>
                        </thead>

                        <tbody>
                            {% for entry in entries %}
                                <tr>
                                    <td class="rank-cell">
                                        {% if forloop.counter == 1 %}
                                            ðŸ¥‡
                                        {% elif forloop.counter == 2 %}
                                            ðŸ¥ˆ
                                        {% elif forloop.counter == 3 %}
                                            ðŸ¥‰
                                        {% else %}
                                            {{ forloop.counter }}
                                        {% endif %}
                                    </td>

                                    <td class="name-cell">{{ entry.name }}</td>

                                    <td class="score-cell">
                                        {{ entry.score }} / 1000
                                    </td>

                                    <td class="prompt-cell">
                                        {% if entry.prompt|length > 120 %}
                                            {{ entry.prompt|slice:":120" }}â€¦
                                        {% else %}
                                            {{ entry.prompt }}
                                        {% endif %}
                                    </td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>

            {% else %}

                <p class="no-entries">
                    {% trans "No prompts have been scored yet. Be the first to hit the arcade." %}
                </p>

            {% endif %}
        </section>
    </main>

    <footer class="site-footer">
        <span class="footer-dot"></span>
        <span class="footer-text">
            {% trans "Leaderboard Â· Prompt Scoring Arcade Â· v0.1" %}
        </span>
    </footer>

</body>

{% endblock %}