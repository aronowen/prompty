{% extends "home/base.html" %}
{% load static i18n %}

{% block title %}{% trans "Leaderboard Â· Prompt Scoring Arcade" %}{% endblock %}

{% block content %}

<section class="leaderboard-section">

    <!-- =========================== -->
    <!--     QR CODE ROW AT TOP     -->
    <!-- =========================== -->
    <div class="qr-row">
        <div class="qr-box">
            <img src="{% static 'img/qr_qa.png' %}" class="qr-image" alt="Q&A QR">
            <p class="qr-label">{% trans "Q&A" %}</p>
        </div>

        <div class="qr-box">
            <img src="{% static 'img/qr_prompty.png' %}" class="qr-image" alt="Prompty QR">
            <p class="qr-label">{% trans "Prompty" %}</p>
        </div>

        <div class="qr-box">
            <img src="{% static 'img/qr_booch.png' %}" class="qr-image" alt="Booch QR">
            <p class="qr-label">{% trans "Kombucha Bar" %}</p>
        </div>
    </div>

    <h1 class="leaderboard-title">{% trans "Prompt Leaderboard" %}</h1>
    <p class="section-subtitle">
        {% blocktrans trimmed %}
        Top 20 prompts across all roles, ranked by total score out of 1000.
        {% endblocktrans %}
    </p>

    {% if entries %}
    <div class="leaderboard-card">
        <table class="leaderboard-table">
            <thead>
                <tr>
                    <th>#</th>
                    <th>{% trans "Name" %}</th>
                    <th>{% trans "Score" %}</th>
                    <th>{% trans "Prompt Preview" %}</th>
                </tr>
            </thead>
            <tbody>
                {% for entry in entries %}
                <tr>
                    <td class="rank-cell">
                        {% if forloop.counter == 1 %}ðŸ¥‡
                        {% elif forloop.counter == 2 %}ðŸ¥ˆ
                        {% elif forloop.counter == 3 %}ðŸ¥‰
                        {% else %}
                            {{ forloop.counter }}
                        {% endif %}
                    </td>
                    <td class="name-cell">{{ entry.name }}</td>
                    <td class="score-cell">{{ entry.score }} / 1000</td>
                    <td class="prompt-cell">
                        {% if entry.prompt|length > 120 %}
                            {{ entry.prompt|slice:":120" }}â€¦
                        {% else %}
                            {{ entry.prompt }}
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    {% else %}
    <p class="no-entries">
        {% trans "No prompts have been scored yet. Be the first to hit the arcade." %}
    </p>
    {% endif %}

</section>

{% endblock %}